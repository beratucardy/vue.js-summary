Solution code: https://jsfiddle.net/smax/q2s3fpku/